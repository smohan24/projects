<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
    <title>Replica Set Commands — MongoDB Manual</title>

    <link rel="shortcut icon" href="http://media.mongodb.org/favicon.ico">
    <meta name="robots" content="index">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="canonical" href="http://docs.mongodb.org/manual/reference/replica-commands">

    
    
    <link rel="stylesheet" href="Replica%20Set%20Commands%20%E2%80%94%20MongoDB%20Manual_files/mongodb-docs.css" type="text/css">
    <link rel="stylesheet" href="Replica%20Set%20Commands%20%E2%80%94%20MongoDB%20Manual_files/pygments.css" type="text/css">
      
    <script src="Replica%20Set%20Commands%20%E2%80%94%20MongoDB%20Manual_files/cse.js" async="" type="text/javascript"></script><script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.2.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="Replica%20Set%20Commands%20%E2%80%94%20MongoDB%20Manual_files/jquery.js"></script>
    <script type="text/javascript" src="Replica%20Set%20Commands%20%E2%80%94%20MongoDB%20Manual_files/underscore.js"></script>
    <script type="text/javascript" src="Replica%20Set%20Commands%20%E2%80%94%20MongoDB%20Manual_files/doctools.js"></script>
      <link rel="search" type="application/opensearchdescription+xml" href="http://docs.mongodb.org/osd.xml" title="MongoDB Help">
<link rel="author" title="About these documents" href="http://docs.mongodb.org/manual/about/">
<link rel="top" title="MongoDB Manual" href="http://docs.mongodb.org/manual/">
<link rel="up" title="Replication" href="http://docs.mongodb.org/manual/replication/">
<link rel="next" title="Replica Set Features and Version Compatibility" href="http://docs.mongodb.org/manual/release-notes/replica-set-features/">
<link rel="prev" title="Recover MongoDB Data following Unexpected Shutdown" href="http://docs.mongodb.org/manual/tutorial/recover-data-following-unexpected-shutdown/">
<!-- Put the following javascript before the closing </head> tag. -->
<script>
  (function() {
    var cx = '017213726194841070573:WMX6838984';
    var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);
  })();
</script>
  <script type="text/javascript" src="Replica%20Set%20Commands%20%E2%80%94%20MongoDB%20Manual_files/jsapi"></script><link rel="stylesheet" href="Replica%20Set%20Commands%20%E2%80%94%20MongoDB%20Manual_files/defaulten.css" type="text/css"><link rel="stylesheet" href="Replica%20Set%20Commands%20%E2%80%94%20MongoDB%20Manual_files/default.css" type="text/css"><script src="Replica%20Set%20Commands%20%E2%80%94%20MongoDB%20Manual_files/defaulten.js" type="text/javascript"></script><script src="Replica%20Set%20Commands%20%E2%80%94%20MongoDB%20Manual_files/search.js" type="text/javascript"></script><style type="text/css">
.gsc-control-cse {
font-family: Arial, sans-serif;
border-color: #FFFFFF;
background-color: #FFFFFF;
}
.gsc-control-cse .gsc-table-result {
font-family: Arial, sans-serif;
}
input.gsc-input, .gsc-input-box, .gsc-input-box-hover, .gsc-input-box-focus {
border-color: #D9D9D9;
}
input.gsc-search-button, input.gsc-search-button:hover, input.gsc-search-button:focus {
border-color: #5AAC41;
background-color: #5AAC41;
background-image: none;
filter: none;
}
.gsc-tabHeader.gsc-tabhInactive {
border-color: #CCCCCC;
background-color: #FFFFFF;
}
.gsc-tabHeader.gsc-tabhActive {
border-color: #CCCCCC;
border-bottom-color: #FFFFFF;
background-color: #FFFFFF;
}
.gsc-tabsArea {
border-color: #CCCCCC;
}
.gsc-webResult.gsc-result,
.gsc-results .gsc-imageResult {
border-color: #FFFFFF;
background-color: #FFFFFF;
}
.gsc-webResult.gsc-result:hover,
.gsc-imageResult:hover {
border-color: #FFFFFF;
background-color: #FFFFFF;
}
.gs-webResult.gs-result a.gs-title:link,
.gs-webResult.gs-result a.gs-title:link b,
.gs-imageResult a.gs-title:link,
.gs-imageResult a.gs-title:link b {
color: #1155CC;
}
.gs-webResult.gs-result a.gs-title:visited,
.gs-webResult.gs-result a.gs-title:visited b,
.gs-imageResult a.gs-title:visited,
.gs-imageResult a.gs-title:visited b {
color: #1155CC;
}
.gs-webResult.gs-result a.gs-title:hover,
.gs-webResult.gs-result a.gs-title:hover b,
.gs-imageResult a.gs-title:hover,
.gs-imageResult a.gs-title:hover b {
color: #1155CC;
}
.gs-webResult.gs-result a.gs-title:active,
.gs-webResult.gs-result a.gs-title:active b,
.gs-imageResult a.gs-title:active,
.gs-imageResult a.gs-title:active b {
color: #1155CC;
}
.gsc-cursor-page {
color: #1155CC;
}
a.gsc-trailing-more-results:link {
color: #1155CC;
}
.gs-webResult .gs-snippet,
.gs-imageResult .gs-snippet,
.gs-fileFormatType {
color: #333333;
}
.gs-webResult div.gs-visibleUrl,
.gs-imageResult div.gs-visibleUrl {
color: #009933;
}
.gs-webResult div.gs-visibleUrl-short {
color: #009933;
}
.gs-webResult div.gs-visibleUrl-short {
display: none;
}
.gs-webResult div.gs-visibleUrl-long {
display: block;
}
.gs-promotion div.gs-visibleUrl-short {
display: none;
}
.gs-promotion div.gs-visibleUrl-long {
display: block;
}
.gsc-cursor-box {
border-color: #FFFFFF;
}
.gsc-results .gsc-cursor-box .gsc-cursor-page {
border-color: #CCCCCC;
background-color: #FFFFFF;
color: #1155CC;
}
.gsc-results .gsc-cursor-box .gsc-cursor-current-page {
border-color: #CCCCCC;
background-color: #FFFFFF;
color: #1155CC;
}
.gsc-webResult.gsc-result.gsc-promotion {
border-color: #F6F6F6;
background-color: #F6F6F6;
}
.gsc-completion-title {
color: #1155CC;
}
.gsc-completion-snippet {
color: #333333;
}
.gs-promotion a.gs-title:link,
.gs-promotion a.gs-title:link *,
.gs-promotion .gs-snippet a:link {
color: #1155CC;
}
.gs-promotion a.gs-title:visited,
.gs-promotion a.gs-title:visited *,
.gs-promotion .gs-snippet a:visited {
color: #1155CC;
}
.gs-promotion a.gs-title:hover,
.gs-promotion a.gs-title:hover *,
.gs-promotion .gs-snippet a:hover {
color: #1155CC;
}
.gs-promotion a.gs-title:active,
.gs-promotion a.gs-title:active *,
.gs-promotion .gs-snippet a:active {
color: #1155CC;
}
.gs-promotion .gs-snippet,
.gs-promotion .gs-title .gs-promotion-title-right,
.gs-promotion .gs-title .gs-promotion-title-right * {
color: #333333;
}
.gs-promotion .gs-visibleUrl,
.gs-promotion .gs-visibleUrl-short {
color: #009933;
}
.gsc-input input.gsc-input {
background: none repeat scroll 0% 0% white !important;
}
</style></head>
  <body>
<div id="top-right">
        <div class="user-right">
                <ul id="header-menu-bar" class="ajs-menu-bar">
                <li class="normal"><a target="_blank" href="http://groups.google.com/group/mongodb-user">Forums</a></li>
                <li class="normal"><a target="_blank" href="http://blog.mongodb.org/">Blog</a></li>
                <li class="normal"><a href="http://www.mongodb.org/downloads">Download</a></li>
                <li class="normal"><a href="http://docs.mongodb.org/ecosystem/drivers/">Drivers</a></li>
                <li class="normal"><a href="http://www.10gen.com/events">Events</a></li>
                <li class="normal last"><a class="last" href="http://docs.mongodb.org/manual/meta/translation">Translations</a></li>
                </ul>
        </div>
</div>
<div id="header-db" class="spread">
        <div class="split">
                <div id="logo">
                        <div><a href="http://docs.mongodb.org/manual/"><img class="logo" src="Replica%20Set%20Commands%20%E2%80%94%20MongoDB%20Manual_files/logo-mongodb.png" alt="MongoDB Logo"></a></div>
                </div>
        </div>

<div class="search-db"><gcse:searchbox></gcse:searchbox></div>
<div id="etp">
<ul>
<li><a href="https://github.com/mongodb/docs/blob/master/source/reference/replica-commands.txt" target="_blank" title="Edit reference/replica-commands.txt on github">Edit this Page</a></li>
<li><a href="http://github.com/mongodb/docs" target="_blank" title="Fork the documentation on GitHub and contribute.">GitHub</a></li>
<li><a href="https://jira.mongodb.org/secure/CreateIssueDetails%21init.jspa?pid=10380&amp;issuetype=4&amp;priority=4&amp;summary=Comment+on%3a+%22reference/replica-commands%2Etxt%22" target="_blank" title="Report a problem with reference/replica-commands.txt on Jira">Report a problem</a></li>
</ul>
</div>
</div>  
    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            <div id="cse-results"><gcse:searchresults></gcse:searchresults></div>
            
  <div class="section" id="replica-set-commands">
<h1>Replica Set Commands<a class="headerlink" href="#replica-set-commands" title="Permalink to this headline">¶</a></h1>
<p>This reference collects documentation for all <a class="reference internal" href="#replica-set-javascript-methods"><em>JavaScript methods</em></a> for the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/mongo/#mongo" title="mongo"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongo</span></tt></a> shell that
support <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-replica-set"><em class="xref std std-term">replica set</em></a> functionality, as well as all
<a class="reference internal" href="#replica-set-database-commands"><em>database commands</em></a> related to
replication function.</p>
<p>See <a class="reference internal" href="http://docs.mongodb.org/manual/replication/"><em>Replication</em></a>, for a list of all replica set documentation.</p>
<div class="section" id="javascript-methods">
<span id="replica-set-javascript-methods"></span><h2>JavaScript Methods<a class="headerlink" href="#javascript-methods" title="Permalink to this headline">¶</a></h2>
<p>The following methods apply to replica sets. For a complete list of all
methods, see <a class="reference internal" href="http://docs.mongodb.org/manual/reference/method/"><em>JavaScript Methods</em></a>.</p>
<dl class="method">
<dt id="rs.status">
<tt class="descclassname">rs.</tt><tt class="descname">status</tt><big>(</big><big>)</big><a class="headerlink" href="#rs.status" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<colgroup><col class="field-name">
<col class="field-body">
</colgroup><tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-document"><em class="xref std std-term">document</em></a> with status information.</td>
</tr>
</tbody>
</table>
<p>This output reflects the current status of the replica set, using
data derived from the heartbeat packets sent by the other members
of the replica set.</p>
<p>This method provides a wrapper around the
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/command/replSetGetStatus/#replSetGetStatus" title="replSetGetStatus"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetGetStatus</span></tt></a> <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-database-command"><em class="xref std std-term">database command</em></a>.</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">“<a class="reference internal" href="http://docs.mongodb.org/manual/reference/replica-status/"><em>Replica Set Status Reference</em></a>” for documentation
of this output.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="db.isMaster">
<tt class="descclassname">db.</tt><tt class="descname">isMaster</tt><big>(</big><big>)</big><a class="headerlink" href="#db.isMaster" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a status document with fields that includes the
<tt class="docutils literal"><span class="pre">ismaster</span></tt> field that reports if the current node is the
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-primary"><em class="xref std std-term">primary</em></a> node, as well as a report of a subset of current
replica set configuration.</p>
<p>This function provides a wrapper around the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-database-command"><em class="xref std std-term">database command</em></a>
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/command/isMaster/#isMaster" title="isMaster"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">isMaster</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="rs.initiate">
<tt class="descclassname">rs.</tt><tt class="descname">initiate</tt><big>(</big><em>configuration</em><big>)</big><a class="headerlink" href="#rs.initiate" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<colgroup><col class="field-name">
<col class="field-body">
</colgroup><tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>configuration</strong> – Optional. A <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-document"><em class="xref std std-term">document</em></a> that specifies
the configuration of a replica
set. If not specified, MongoDB will
use a default configuration.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Initiates a replica set. Optionally takes a configuration argument
in the form of a <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-document"><em class="xref std std-term">document</em></a> that holds the configuration
of a replica set. Consider the following model of the most basic
configuration for a 3-member replica set:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="nx">_id</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">setname</span><span class="o">&gt;</span><span class="p">,</span>
     <span class="nx">members</span> <span class="o">:</span> <span class="p">[</span>
         <span class="p">{</span><span class="nx">_id</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">host</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">host0</span><span class="o">&gt;</span><span class="p">},</span>
         <span class="p">{</span><span class="nx">_id</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">host</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">host1</span><span class="o">&gt;</span><span class="p">},</span>
         <span class="p">{</span><span class="nx">_id</span> <span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">host</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">host2</span><span class="o">&gt;</span><span class="p">},</span>
     <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This function provides a wrapper around the
“<a class="reference internal" href="http://docs.mongodb.org/manual/reference/command/replSetInitiate/#replSetInitiate" title="replSetInitiate"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetInitiate</span></tt></a>” <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-database-command"><em class="xref std std-term">database command</em></a>.</p>
</dd></dl>

<dl class="method">
<dt id="rs.conf">
<tt class="descclassname">rs.</tt><tt class="descname">conf</tt><big>(</big><big>)</big><a class="headerlink" href="#rs.conf" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<colgroup><col class="field-name">
<col class="field-body">
</colgroup><tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-document"><em class="xref std std-term">document</em></a> that contains the current
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-replica-set"><em class="xref std std-term">replica set</em></a> configuration object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="rs.config">
<tt class="descclassname">rs.</tt><tt class="descname">config</tt><big>(</big><big>)</big><a class="headerlink" href="#rs.config" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="http://docs.mongodb.org/manual/reference/method/rs.conf/#rs.config" title="rs.config"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.config()</span></tt></a> is an alias of <a class="reference internal" href="http://docs.mongodb.org/manual/reference/method/rs.conf/#rs.conf" title="rs.conf"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.conf()</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="rs.reconfig">
<tt class="descclassname">rs.</tt><tt class="descname">reconfig</tt><big>(</big><em>configuration</em><span class="optional">[</span>, <em>force</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#rs.reconfig" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<colgroup><col class="field-name">
<col class="field-body">
</colgroup><tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>configuration</strong> – A <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-document"><em class="xref std std-term">document</em></a> that specifies
the configuration of a replica set.</li>
<li><strong>force</strong> – Optional. Specify <tt class="docutils literal"><span class="pre">{</span> <span class="pre">force:</span> <span class="pre">true</span> <span class="pre">}</span></tt> as the force
parameter to force the replica set to accept the new
configuration even if a majority of the members are
not accessible. Use with caution, as this can lead to
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-rollback"><em class="xref std std-term">rollback</em></a> situations.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Initializes a new <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-replica-set"><em class="xref std std-term">replica set</em></a> configuration. This function
will disconnect the shell briefly and forces a reconnection as the
replica set renegotiates which node will be
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-primary"><em class="xref std std-term">primary</em></a>. As a result, the shell will display an error even
if this command succeeds.</p>
<p><a class="reference internal" href="http://docs.mongodb.org/manual/reference/method/rs.reconfig/#rs.reconfig" title="rs.reconfig"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.reconfig()</span></tt></a> provides a wrapper around the
“<a class="reference internal" href="http://docs.mongodb.org/manual/reference/command/replSetReconfig/#replSetReconfig" title="replSetReconfig"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetReconfig</span></tt></a>” <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-database-command"><em class="xref std std-term">database command</em></a>.</p>
<p><a class="reference internal" href="http://docs.mongodb.org/manual/reference/method/rs.reconfig/#rs.reconfig" title="rs.reconfig"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.reconfig()</span></tt></a> overwrites the existing replica set
configuration. Retrieve the current configuration object with
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/method/rs.conf/#rs.conf" title="rs.conf"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.conf()</span></tt></a>, modify the configuration as needed and then
use <a class="reference internal" href="http://docs.mongodb.org/manual/reference/method/rs.reconfig/#rs.reconfig" title="rs.reconfig"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.reconfig()</span></tt></a> to submit the modified configuration
object.</p>
<p>To reconfigure a replica set, use the following sequence of
operations:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">conf</span> <span class="o">=</span> <span class="nx">rs</span><span class="p">.</span><span class="nx">conf</span><span class="p">()</span>

<span class="c1">// modify conf to change configuration</span>

<span class="nx">rs</span><span class="p">.</span><span class="nx">reconfig</span><span class="p">(</span><span class="nx">conf</span><span class="p">)</span>
</pre></div>
</div>
<p>If you want to force the reconfiguration if a majority of the set
isn’t connected to the current member, or you’re issuing the
command against a secondary, use the following form:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">conf</span> <span class="o">=</span> <span class="nx">rs</span><span class="p">.</span><span class="nx">conf</span><span class="p">()</span>

<span class="c1">// modify conf to change configuration</span>

<span class="nx">rs</span><span class="p">.</span><span class="nx">reconfig</span><span class="p">(</span><span class="nx">conf</span><span class="p">,</span> <span class="p">{</span> <span class="nx">force</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Forcing a <a class="reference internal" href="http://docs.mongodb.org/manual/reference/method/rs.reconfig/#rs.reconfig" title="rs.reconfig"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.reconfig()</span></tt></a> can lead to <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-rollback"><em class="xref std std-term">rollback</em></a>
situations and other difficult to recover from
situations. Exercise caution when using this option.</p>
</div>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">“<a class="reference internal" href="http://docs.mongodb.org/manual/reference/replica-configuration/"><em>Replica Set Configuration</em></a>” and “<a class="reference internal" href="http://docs.mongodb.org/manual/administration/replica-sets/"><em>Replica Set Operation and Management</em></a>”.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="rs.add">
<tt class="descclassname">rs.</tt><tt class="descname">add</tt><big>(</big><em>hostspec</em>, <em>arbiterOnly</em><big>)</big><a class="headerlink" href="#rs.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify one of the following forms:</p>
<table class="docutils field-list" frame="void" rules="none">
<colgroup><col class="field-name">
<col class="field-body">
</colgroup><tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>host</strong> (<em>string,document</em>) – Either a string or a document.  If a string, specifies a host
(and optionally port-number) for a new host member for the
replica set; MongoDB will add this host with the default
configuration. If a document, specifies any attributes about a
member of a replica set.</li>
<li><strong>arbiterOnly</strong> (<em>boolean</em>) – Optional. If <tt class="docutils literal"><span class="pre">true</span></tt>, this host is an arbiter. If the second
argument evaluates to <tt class="docutils literal"><span class="pre">true</span></tt>, as is the case with some
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-document"><em class="xref std std-term">documents</em></a>, then this instance will become an
arbiter.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Provides a simple method to add a member to an existing
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-replica-set"><em class="xref std std-term">replica set</em></a>. You can specify new hosts in one of two ways:</p>
<ol class="arabic simple">
<li>as a “hostname” with an optional port number to use the default
configuration as in the <a class="reference internal" href="http://docs.mongodb.org/manual/tutorial/expand-replica-set/#replica-set-add-member"><em>Add a Member to an Existing Replica Set</em></a> example.</li>
<li>as a configuration <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-document"><em class="xref std std-term">document</em></a>, as in the
<a class="reference internal" href="http://docs.mongodb.org/manual/tutorial/expand-replica-set/#replica-set-add-member-alternate-procedure"><em>Add a Member to an Existing Replica Set (Alternate Procedure)</em></a> example.</li>
</ol>
<p>This function will disconnect the shell briefly and forces a
reconnection as the replica set renegotiates which node
will be <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-primary"><em class="xref std std-term">primary</em></a>. As a result, the shell will display an
error even if this command succeeds.</p>
<p><a class="reference internal" href="http://docs.mongodb.org/manual/reference/method/rs.add/#rs.add" title="rs.add"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.add()</span></tt></a> provides a wrapper around some of the
functionality of the “<a class="reference internal" href="http://docs.mongodb.org/manual/reference/command/replSetReconfig/#replSetReconfig" title="replSetReconfig"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetReconfig</span></tt></a>” <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-database-command"><em class="xref std std-term">database
command</em></a> and the corresponding shell helper
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/method/rs.reconfig/#rs.reconfig" title="rs.reconfig"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.reconfig()</span></tt></a>. See the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/replica-configuration/"><em>Replica Set Configuration</em></a>
document for full documentation of all replica set configuration
options.</p>
<div class="admonition-example admonition">
<p class="first admonition-title">Example</p>
<p>To add a <a class="reference internal" href="http://docs.mongodb.org/manual/reference/mongod/#mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> accessible on the default port
<tt class="docutils literal"><span class="pre">27017</span></tt> running on the host <tt class="docutils literal"><span class="pre">mongodb3.example.net</span></tt>, use the
following <a class="reference internal" href="http://docs.mongodb.org/manual/reference/method/rs.add/#rs.add" title="rs.add"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.add()</span></tt></a> invocation:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">rs</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">'mongodb3.example.net:27017'</span><span class="p">)</span>
</pre></div>
</div>
<p>If <tt class="docutils literal"><span class="pre">mongodb3.example.net</span></tt> is an arbiter, use the following form:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">rs</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">'mongodb3.example.net:27017'</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
</pre></div>
</div>
<p>To add <tt class="docutils literal"><span class="pre">mongodb3.example.net</span></tt> as a <a class="reference internal" href="http://docs.mongodb.org/manual/administration/replica-sets/#replica-set-secondary-only-members"><em>secondary-only</em></a> member of set, use the
following form of <a class="reference internal" href="http://docs.mongodb.org/manual/reference/method/rs.add/#rs.add" title="rs.add"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.add()</span></tt></a>:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">rs</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span> <span class="p">{</span> <span class="s2">"_id"</span><span class="o">:</span> <span class="s2">"3"</span><span class="p">,</span> <span class="s2">"host"</span><span class="o">:</span> <span class="s2">"mongodbd3.example.net:27017"</span><span class="p">,</span> <span class="s2">"priority"</span><span class="o">:</span> <span class="mi">0</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<p>Replace, <tt class="docutils literal"><span class="pre">3</span></tt> with the next unused <tt class="docutils literal"><span class="pre">_id</span></tt> value in the replica
set. See <a class="reference internal" href="http://docs.mongodb.org/manual/reference/method/rs.conf/#rs.conf" title="rs.conf"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.conf()</span></tt></a> to see the existing <tt class="docutils literal"><span class="pre">_id</span></tt> values
in the replica set configuration document.</p>
<p class="last">See the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/replica-configuration/"><em>Replica Set Configuration</em></a> and
<a class="reference internal" href="http://docs.mongodb.org/manual/administration/replica-sets/"><em>Replica Set Operation and Management</em></a> documents for more
information.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="rs.addArb">
<tt class="descclassname">rs.</tt><tt class="descname">addArb</tt><big>(</big><em>hostname</em><big>)</big><a class="headerlink" href="#rs.addArb" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<colgroup><col class="field-name">
<col class="field-body">
</colgroup><tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>host</strong> (<em>string</em>) – Specifies a host (and optionally port-number)
for a arbiter member for the replica set.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Adds a new <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-arbiter"><em class="xref std std-term">arbiter</em></a> to an existing replica set.</p>
<p>This function will disconnect the shell briefly and forces a
reconnection as the replica set renegotiates which node
will be <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-primary"><em class="xref std std-term">primary</em></a>. As a result, the shell will display an
error even if this command succeeds.</p>
</dd></dl>

<dl class="method">
<dt id="rs.stepDown">
<tt class="descclassname">rs.</tt><tt class="descname">stepDown</tt><big>(</big><em>seconds</em><big>)</big><a class="headerlink" href="#rs.stepDown" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<colgroup><col class="field-name">
<col class="field-body">
</colgroup><tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>seconds</strong> (<em>init</em>) – Specify the duration of this operation. If not
specified the command uses the default value
of 60 seconds.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">disconnects shell.</p>
</td>
</tr>
</tbody>
</table>
<p>Forces the current replica set member to step down as
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-primary"><em class="xref std std-term">primary</em></a> and then attempt to avoid election as primary for
the designated number of seconds. Produces an error if the current
node is not primary.</p>
<p>This function will disconnect the shell briefly and forces a
reconnection as the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-replica-set"><em class="xref std std-term">replica set</em></a> renegotiates which node
will be <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-primary"><em class="xref std std-term">primary</em></a>. As a result, the shell will display an
error even if this command succeeds.</p>
<p><a class="reference internal" href="http://docs.mongodb.org/manual/reference/method/rs.stepDown/#rs.stepDown" title="rs.stepDown"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.stepDown()</span></tt></a> provides a wrapper around the
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-database-command"><em class="xref std std-term">database command</em></a> <a class="reference internal" href="http://docs.mongodb.org/manual/reference/command/replSetStepDown/#replSetStepDown" title="replSetStepDown"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetStepDown</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="rs.freeze">
<tt class="descclassname">rs.</tt><tt class="descname">freeze</tt><big>(</big><em>seconds</em><big>)</big><a class="headerlink" href="#rs.freeze" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<colgroup><col class="field-name">
<col class="field-body">
</colgroup><tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>seconds</strong> (<em>init</em>) – Specify the duration of this operation.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Forces the current node to become ineligible to become primary for
the period specified.</p>
<p><a class="reference internal" href="http://docs.mongodb.org/manual/reference/method/rs.freeze/#rs.freeze" title="rs.freeze"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.freeze()</span></tt></a> provides a wrapper around the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-database-command"><em class="xref std std-term">database
command</em></a> <a class="reference internal" href="http://docs.mongodb.org/manual/reference/command/replSetFreeze/#replSetFreeze" title="replSetFreeze"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetFreeze</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="rs.remove">
<tt class="descclassname">rs.</tt><tt class="descname">remove</tt><big>(</big><em>hostname</em><big>)</big><a class="headerlink" href="#rs.remove" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<colgroup><col class="field-name">
<col class="field-body">
</colgroup><tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>hostname</strong> – Specify one of the existing hosts to remove from
the current replica set.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Removes the node described by the <tt class="docutils literal"><span class="pre">hostname</span></tt> parameter from the
current <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-replica-set"><em class="xref std std-term">replica set</em></a>. This function will disconnect the
shell briefly and forces a reconnection as the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-replica-set"><em class="xref std std-term">replica set</em></a>
renegotiates negotiates which node will be <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-primary"><em class="xref std std-term">primary</em></a>. As a
result, the shell will display an error even if this command
succeeds.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Before running the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/method/rs.remove/#rs.remove" title="rs.remove"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.remove()</span></tt></a> operation, you must <em>shut
down</em> the replica set member that you’re removing.</p>
<p class="last versionchanged">
<span class="versionmodified">Changed in version 2.2: </span>This procedure is no longer required when using
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/method/rs.remove/#rs.remove" title="rs.remove"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.remove()</span></tt></a>, but it remains good practice.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="rs.slaveOk">
<tt class="descclassname">rs.</tt><tt class="descname">slaveOk</tt><big>(</big><big>)</big><a class="headerlink" href="#rs.slaveOk" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides a shorthand for the following operation:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">getMongo</span><span class="p">().</span><span class="nx">setSlaveOk</span><span class="p">()</span>
</pre></div>
</div>
<p>This allows the current connection to allow read operations to run
on <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-secondary"><em class="xref std std-term">secondary</em></a> nodes. See the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/method/cursor.readPref/#cursor.readPref" title="cursor.readPref"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">readPref()</span></tt></a> method for more fine-grained control over
<a class="reference internal" href="http://docs.mongodb.org/manual/applications/replication/#read-preference"><em>read preference</em></a> in the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/mongo/#mongo" title="mongo"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongo</span></tt></a> shell.</p>
</dd></dl>

<dl class="method">
<dt id="iddup.db.isMaster">
<tt class="descclassname">db.</tt><tt class="descname">isMaster</tt><big>(</big><big>)</big><a class="headerlink" href="#iddup.db.isMaster" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a status document with fields that includes the
<tt class="docutils literal"><span class="pre">ismaster</span></tt> field that reports if the current node is the
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-primary"><em class="xref std std-term">primary</em></a> node, as well as a report of a subset of current
replica set configuration.</p>
<p>This function provides a wrapper around the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-database-command"><em class="xref std std-term">database command</em></a>
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/command/isMaster/#isMaster" title="isMaster"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">isMaster</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="rs.help">
<tt class="descclassname">rs.</tt><tt class="descname">help</tt><big>(</big><big>)</big><a class="headerlink" href="#rs.help" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a basic help text for all of the <a class="reference internal" href="http://docs.mongodb.org/manual/core/replication/"><em>replication</em></a> related shell functions.</p>
</dd></dl>

<dl class="method">
<dt id="rs.syncFrom">
<tt class="descclassname">rs.</tt><tt class="descname">syncFrom</tt><big>(</big><big>)</big><a class="headerlink" href="#rs.syncFrom" title="Permalink to this definition">¶</a></dt>
<dd><p class="versionadded">
<span class="versionmodified">New in version 2.2.</span></p>
<p>Provides a wrapper around the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/command/replSetSyncFrom/#replSetSyncFrom" title="replSetSyncFrom"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetSyncFrom</span></tt></a>, which
allows administrators to configure the member of a replica set that
the current member will pull data from. Specify the name of the
member you want to replicate from in the form of <tt class="docutils literal"><span class="pre">[hostname]:[port]</span></tt>.</p>
<p>See <a class="reference internal" href="http://docs.mongodb.org/manual/reference/command/replSetSyncFrom/#replSetSyncFrom" title="replSetSyncFrom"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetSyncFrom</span></tt></a> for more details.</p>
</dd></dl>

</div>
<div class="section" id="database-commands">
<span id="replica-set-database-commands"></span><h2>Database Commands<a class="headerlink" href="#database-commands" title="Permalink to this headline">¶</a></h2>
<p>The following commands apply to replica sets. For a complete list of all
commands, see <a class="reference internal" href="http://docs.mongodb.org/manual/reference/commands/"><em>Database Commands Quick Reference</em></a>.</p>
<dl class="dbcommand">
<dt id="dbcmd.isMaster">
<tt class="descname">isMaster</tt><a class="headerlink" href="#dbcmd.isMaster" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/command/isMaster/#isMaster" title="isMaster"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">isMaster</span></tt></a> command provides a basic overview of the current
replication configuration. MongoDB <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-driver"><em class="xref std std-term">drivers</em></a> and
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-client"><em class="xref std std-term">clients</em></a> use this command to determine what kind of
member they’re connected to and to discover additional members of a
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-replica-set"><em class="xref std std-term">replica set</em></a>. The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/method/db.isMaster/#db.isMaster" title="db.isMaster"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">db.isMaster()</span></tt></a> method provides a
wrapper around this database command.</p>
<p>The command takes the following form:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span> <span class="nx">isMaster</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}</span>
</pre></div>
</div>
<p>This command returns a <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-document"><em class="xref std std-term">document</em></a> containing the
following fields:</p>
<dl class="data">
<dt id="isMaster.setname">
<tt class="descclassname">isMaster.</tt><tt class="descname">setname</tt><a class="headerlink" href="#isMaster.setname" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the current replica set, if applicable.</p>
</dd></dl>

<dl class="data">
<dt id="isMaster.ismaster">
<tt class="descclassname">isMaster.</tt><tt class="descname">ismaster</tt><a class="headerlink" href="#isMaster.ismaster" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean value that reports when this node is writable. If
<tt class="docutils literal"><span class="pre">true</span></tt>, then the current node is either a <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-primary"><em class="xref std std-term">primary</em></a> in a
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-replica-set"><em class="xref std std-term">replica set</em></a>, a <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-master"><em class="xref std std-term">master</em></a> in a master-slave
configuration, or a standalone <a class="reference internal" href="http://docs.mongodb.org/manual/reference/mongod/#mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a>.</p>
</dd></dl>

<dl class="data">
<dt id="isMaster.secondary">
<tt class="descclassname">isMaster.</tt><tt class="descname">secondary</tt><a class="headerlink" href="#isMaster.secondary" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean value that, when <tt class="docutils literal"><span class="pre">true</span></tt>, indicates that the
current member is a <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-secondary"><em class="xref std std-term">secondary</em></a> member of a <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-replica-set"><em class="xref std std-term">replica
set</em></a>.</p>
</dd></dl>

<dl class="data">
<dt id="isMaster.hosts">
<tt class="descclassname">isMaster.</tt><tt class="descname">hosts</tt><a class="headerlink" href="#isMaster.hosts" title="Permalink to this definition">¶</a></dt>
<dd><p>An array of strings in the format of “<tt class="docutils literal"><span class="pre">[hostname]:[port]</span></tt>”
listing all members of the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-replica-set"><em class="xref std std-term">replica set</em></a> that are not
“<a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-hidden-member"><em class="xref std std-term">hidden</em></a>”.</p>
</dd></dl>

<dl class="data">
<dt id="isMaster.arbiter">
<tt class="descclassname">isMaster.</tt><tt class="descname">arbiter</tt><a class="headerlink" href="#isMaster.arbiter" title="Permalink to this definition">¶</a></dt>
<dd><p>An array of strings  in the format of “<tt class="docutils literal"><span class="pre">[hostname]:[port]</span></tt>”
listing all members of the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-replica-set"><em class="xref std std-term">replica set</em></a> that are
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-arbiter"><em class="xref std std-term">arbiters</em></a></p>
<p>Only appears in the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/command/isMaster/#isMaster" title="isMaster"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">isMaster</span></tt></a> response for replica
sets that have arbiter members.</p>
</dd></dl>

<dl class="data">
<dt id="isMaster.arbiterOnly">
<tt class="descclassname">isMaster.</tt><tt class="descname">arbiterOnly</tt><a class="headerlink" href="#isMaster.arbiterOnly" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean value that, when <tt class="docutils literal"><span class="pre">true</span></tt> indicates that the current
instance is an <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-arbiter"><em class="xref std std-term">arbiter</em></a>.</p>
<p><a class="reference internal" href="http://docs.mongodb.org/manual/reference/command/isMaster/#isMaster.arbiterOnly" title="isMaster.arbiterOnly"><tt class="xref mongodb mongodb-data docutils literal"><span class="pre">arbiterOnly</span></tt></a> only appears in the
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/command/isMaster/#isMaster" title="isMaster"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">isMaster</span></tt></a> response from arbiters.</p>
</dd></dl>

<dl class="data">
<dt id="isMaster.primary">
<tt class="descclassname">isMaster.</tt><tt class="descname">primary</tt><a class="headerlink" href="#isMaster.primary" title="Permalink to this definition">¶</a></dt>
<dd><p>The <tt class="docutils literal"><span class="pre">[hostname]:[port]</span></tt> for the current
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-replica-set"><em class="xref std std-term">replica set</em></a> <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-primary"><em class="xref std std-term">primary</em></a>, if applicable.</p>
</dd></dl>

<dl class="data">
<dt id="isMaster.me">
<tt class="descclassname">isMaster.</tt><tt class="descname">me</tt><a class="headerlink" href="#isMaster.me" title="Permalink to this definition">¶</a></dt>
<dd><p>The <tt class="docutils literal"><span class="pre">[hostname]:[port]</span></tt> of the node responding to this
command.</p>
</dd></dl>

<dl class="data">
<dt id="isMaster.maxBsonObjectSize">
<tt class="descclassname">isMaster.</tt><tt class="descname">maxBsonObjectSize</tt><a class="headerlink" href="#isMaster.maxBsonObjectSize" title="Permalink to this definition">¶</a></dt>
<dd><p>The maximum permitted size of a <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-bson"><em class="xref std std-term">BSON</em></a> object in bytes for
this <a class="reference internal" href="http://docs.mongodb.org/manual/reference/mongod/#mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> process. If not provided, clients should
assume a max size of “<tt class="docutils literal"><span class="pre">4</span> <span class="pre">*</span> <span class="pre">1024</span> <span class="pre">*</span> <span class="pre">1024</span></tt>”.</p>
</dd></dl>

<dl class="data">
<dt id="isMaster.localTime">
<tt class="descclassname">isMaster.</tt><tt class="descname">localTime</tt><a class="headerlink" href="#isMaster.localTime" title="Permalink to this definition">¶</a></dt>
<dd><p class="versionadded">
<span class="versionmodified">New in version 2.1.1.</span></p>
<p>Returns the local server time in UTC. This value is a
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-isodate"><em class="xref std std-term">ISOdate</em></a>. You can use the <tt class="xref mongodb mongodb-method docutils literal"><span class="pre">toString()</span></tt>
JavaScript method to convert this value to a local date string,
as in the following example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">isMaster</span><span class="p">().</span><span class="nx">localTime</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="dbcommand">
<dt id="dbcmd.resync">
<tt class="descname">resync</tt><a class="headerlink" href="#dbcmd.resync" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/command/resync/#resync" title="resync"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">resync</span></tt></a> command forces an out-of-date slave
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/mongod/#mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> instance to re-synchronize itself. Note
that this command is relevant to master-slave replication only. It does
not apply to replica sets.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This command obtains a global write lock and will block other
operations until it has completed.</p>
</div>
</dd></dl>

<dl class="dbcommand">
<dt id="dbcmd.replSetFreeze">
<tt class="descname">replSetFreeze</tt><a class="headerlink" href="#dbcmd.replSetFreeze" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/command/replSetFreeze/#replSetFreeze" title="replSetFreeze"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetFreeze</span></tt></a> command prevents a replica set
member from seeking election for the specified number of
seconds. Use this command in conjunction with the
<a class="reference internal" href="http://docs.mongodb.org/manual/reference/command/replSetStepDown/#replSetStepDown" title="replSetStepDown"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetStepDown</span></tt></a> command to make a different node in
the replica set a primary.</p>
<p>The <a class="reference internal" href="http://docs.mongodb.org/manual/reference/command/replSetFreeze/#replSetFreeze" title="replSetFreeze"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetFreeze</span></tt></a> command uses the following syntax:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span> <span class="nx">replSetFreeze</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">seconds</span><span class="o">&gt;</span> <span class="p">}</span>
</pre></div>
</div>
<p>If you want to unfreeze a replica set member before the specified number
of seconds has elapsed, you can issue the command with a seconds
value of <tt class="docutils literal"><span class="pre">0</span></tt>:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span> <span class="nx">replSetFreeze</span><span class="o">:</span> <span class="mi">0</span> <span class="p">}</span>
</pre></div>
</div>
<p>Restarting the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/mongod/#mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> process also unfreezes a replica
set member.</p>
<p><a class="reference internal" href="http://docs.mongodb.org/manual/reference/command/replSetFreeze/#replSetFreeze" title="replSetFreeze"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetFreeze</span></tt></a> is an administrative command, and you
must issue the it against the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-admin-database"><em class="xref std std-term">admin database</em></a>.</p>
</dd></dl>

<dl class="dbcommand">
<dt id="dbcmd.replSetGetStatus">
<tt class="descname">replSetGetStatus</tt><a class="headerlink" href="#dbcmd.replSetGetStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>The <tt class="docutils literal"><span class="pre">replSetGetStatus</span></tt> command returns the status of the replica
set from the point of view of the current server. You must run the
command against the <a class="reference internal" href="http://docs.mongodb.org/manual/reference/glossary/#term-admin-database"><em class="xref std std-term">admin database</em></a>. The command has the following
prototype format:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span> <span class="nx">replSetGetStatus</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}</span>
</pre></div>
</div>
<p>However, you can also run this command from the shell like so:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">rs</span><span class="p">.</span></pre></div></div></dd></dl></div></div></div></div></div></div></body></html>